(()=>{var e={};e.id=974,e.ids=[974],e.modules={13:(e,s,a)=>{"use strict";a.d(s,{J:()=>d});var t=a(687),r=a(3210),l=a(8148),n=a(4224),o=a(4780);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.b,{ref:a,className:(0,o.cn)(i(),e),...s}));d.displayName=l.b.displayName},440:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});var t=a(1658);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1204:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/manza/Desktop/robotech/access-control/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/manza/Desktop/robotech/access-control/src/app/page.tsx","default")},1616:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=a(5239),r=a(8088),l=a(8170),n=a.n(l),o=a(893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(s,i);let d={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1204)),"/home/manza/Desktop/robotech/access-control/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1137)),"/home/manza/Desktop/robotech/access-control/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/manza/Desktop/robotech/access-control/src/app/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3006:(e,s,a)=>{"use strict";a.d(s,{V:()=>l});var t=a(687),r=a(4780);function l({status:e,className:s}){let a={empty:"bg-green-500 shadow-green-500/50",occupied:"bg-orange-500 shadow-orange-500/50",reserved:"bg-red-500 shadow-red-500/50"};return(0,t.jsxs)("div",{className:(0,r.cn)("relative flex h-16 w-16 items-center justify-center rounded-full",s),children:[(0,t.jsx)("div",{className:(0,r.cn)("absolute h-full w-full rounded-full animate-pulse",a[e],"opacity-75")}),(0,t.jsx)("div",{className:(0,r.cn)("h-12 w-12 rounded-full border-2 border-white/50",a[e])})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3189:(e,s,a)=>{Promise.resolve().then(a.bind(a,1204))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3500:(e,s,a)=>{"use strict";a.d(s,{$v:()=>f,EO:()=>p,Lt:()=>i,Rx:()=>g,Zr:()=>j,ck:()=>x,r7:()=>h,tv:()=>d,wd:()=>u});var t=a(687),r=a(3210),l=a(3556),n=a(4780),o=a(9523);let i=l.bL,d=l.l9,c=l.ZL,m=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:a}));m.displayName=l.hJ.displayName;let p=r.forwardRef(({className:e,...s},a)=>(0,t.jsxs)(c,{children:[(0,t.jsx)(m,{}),(0,t.jsx)(l.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));p.displayName=l.UC.displayName;let u=({className:e,...s})=>(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});u.displayName="AlertDialogHeader";let x=({className:e,...s})=>(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});x.displayName="AlertDialogFooter";let h=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold",e),...s}));h.displayName=l.hE.displayName;let f=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));f.displayName=l.VY.displayName;let g=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.rc,{ref:a,className:(0,n.cn)((0,o.r)(),e),...s}));g.displayName=l.rc.displayName;let j=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.ZD,{ref:a,className:(0,n.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));j.displayName=l.ZD.displayName},3503:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>m,Es:()=>u,L3:()=>x,c7:()=>p,lG:()=>i,rr:()=>h});var t=a(687),r=a(3210),l=a(991),n=a(8726),o=a(4780);let i=l.bL;l.l9;let d=l.ZL;l.bm;let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.hJ,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));c.displayName=l.hJ.displayName;let m=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(d,{children:[(0,t.jsx)(c,{}),(0,t.jsxs)(l.UC,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.UC.displayName;let p=({className:e,...s})=>(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});p.displayName="DialogHeader";let u=({className:e,...s})=>(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});u.displayName="DialogFooter";let x=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));x.displayName=l.hE.displayName;let h=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...s}));h.displayName=l.VY.displayName},3873:e=>{"use strict";e.exports=require("path")},4493:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>o,wL:()=>m});var t=a(687),r=a(3210),l=a(4780);let n=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},8669:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>P});var t=a(687),r=a(3210),l=a(4493),n=a(9523),o=a(8206),i=a(523),d=a(3914),c=a(6622);let m=(0,a(2614).A)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var p=a(3090),u=a(9196),x=a(3678),h=a(5036),f=a(9025),g=a(3006),j=a(3503),v=a(9667),N=a(13),b=a(9867),y=a(1568);function w({isOpen:e,onOpenChange:s}){let{checkIn:a}=(0,f.h)(),{user:l}=(0,y.A)(),[i,d]=(0,r.useState)(1),{toast:c}=(0,b.dj)();return(0,t.jsx)(j.lG,{open:e,onOpenChange:s,children:(0,t.jsxs)(j.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(j.c7,{children:[(0,t.jsx)(j.L3,{className:"font-headline",children:"Check In"}),(0,t.jsx)(j.rr,{children:"Enter the number of people in your group."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(N.J,{htmlFor:"people",className:"text-right",children:"People"}),(0,t.jsx)(v.p,{id:"people",type:"number",value:i,onChange:e=>d(parseInt(e.target.value,10)||1),className:"col-span-3",min:"1"})]})}),(0,t.jsx)(j.Es,{children:(0,t.jsxs)(n.$,{onClick:()=>{i>0&&l?(a(i,l.username),c({title:"Check-in successful!",description:`You have checked in ${i} ${i>1?"people":"person"}.`}),s(!1),d(1)):c({title:"Invalid number",description:"Please enter a number greater than 0.",variant:"destructive"})},children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4"})," Confirm Check-in"]})})]})})}var k=a(4780);let C=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("textarea",{className:(0,k.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));function R({isOpen:e,onOpenChange:s}){let{reserve:a}=(0,f.h)(),{user:l}=(0,y.A)(),{toast:o}=(0,b.dj)(),[i,d]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[u,x]=(0,r.useState)("");return(0,t.jsx)(j.lG,{open:e,onOpenChange:s,children:(0,t.jsxs)(j.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(j.c7,{children:[(0,t.jsx)(j.L3,{className:"font-headline",children:"Reserve Local"}),(0,t.jsx)(j.rr,{children:"Fill in the details to reserve the entire association local."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid w-full items-center gap-1.5",children:[(0,t.jsx)(N.J,{htmlFor:"reason",children:"Reason for Reservation"}),(0,t.jsx)(C,{id:"reason",placeholder:"e.g., Study Group Session, Committee Meeting",value:i,onChange:e=>d(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid w-full items-center gap-1.5",children:[(0,t.jsx)(N.J,{htmlFor:"contactPhone",children:"Contact Phone"}),(0,t.jsx)(v.p,{id:"contactPhone",type:"tel",placeholder:"Your phone number",value:m,onChange:e=>p(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid w-full items-center gap-1.5",children:[(0,t.jsx)(N.J,{htmlFor:"endTime",children:"Estimated End Time"}),(0,t.jsx)(v.p,{id:"endTime",type:"time",value:u,onChange:e=>x(e.target.value)})]})]}),(0,t.jsx)(j.Es,{children:(0,t.jsxs)(n.$,{onClick:()=>{if(!i||!m||!u)return void o({title:"Missing information",description:"Please fill out all fields to make a reservation.",variant:"destructive"});l&&(a({reason:i,contactPhone:m,endTime:u},l.username),o({title:"Reservation successful!",description:"The local has been reserved."}),s(!1),d(""),p(""),x(""))},children:[(0,t.jsx)(c.A,{className:"mr-2 h-4 w-4"})," Confirm Reservation"]})})]})})}C.displayName="Textarea";var A=a(3437),I=a(3500);function P(){let{count:e,checkIns:s,reservation:a,checkOutSingle:j,checkOutGroup:v,endReservation:N,isClient:b}=(0,f.h)(),{user:k}=(0,y.A)(),[C,P]=(0,r.useState)(!1),[E,S]=(0,r.useState)(!1),L=a?"reserved":e>0?"occupied":"empty",Z=k?s.find(e=>e.user===k.username):null,z={empty:{text:"Association is empty",color:"green",icon:(0,t.jsx)(o.A,{className:"h-6 w-6 text-green-500"})},occupied:{text:"Association has people",color:"orange",icon:(0,t.jsx)(o.A,{className:"h-6 w-6 text-orange-500"})},reserved:{text:"Association is reserved",color:"red",icon:(0,t.jsx)(i.A,{className:"h-6 w-6 text-red-500"})}}[L],D=e=>{k&&v(e.id,k.username)};return b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"container mx-auto p-4 md:p-8",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)(l.Zp,{className:"lg:col-span-1",children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium font-headline",children:"Estado actual"}),z.icon]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(g.V,{status:L}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xl md:text-2xl font-bold",children:z.text}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Indicador en tiempo real de la ocupaci\xf3n"})]})]})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium font-headline",children:"Personas en el Local"}),(0,t.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:a?"N/A":e}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Personas totales actualmente en el lcoal"})]})]}),(0,t.jsxs)(l.Zp,{className:"md:col-span-2 lg:col-span-1",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"font-headline",children:"Acciones"}),(0,t.jsx)(l.BT,{children:"Check-in, check-out o reserva del local."})]}),(0,t.jsxs)(l.Wu,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)(n.$,{onClick:()=>P(!0),disabled:!!a||!k||!!Z,children:[(0,t.jsx)(d.A,{className:"mr-2 h-4 w-4"})," Check In"]}),(0,t.jsxs)(n.$,{variant:"secondary",className:"col-span-1",onClick:()=>S(!0),disabled:!!a||!k||e>0,children:[(0,t.jsx)(c.A,{className:"mr-2 h-4 w-4"})," Reserva Local"]})]})]}),e>0&&!a&&k&&(0,t.jsxs)(l.Zp,{className:"md:col-span-2 lg:col-span-3",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"font-headline",children:"Check-out"}),(0,t.jsx)(l.BT,{children:"Gestiona tu grupo o abandona el local."})]}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4",children:[(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>{k&&j(k.username)},disabled:0===e,children:[(0,t.jsx)(m,{className:"mr-2 h-4 w-4"})," Check-out (Solo yo)"]}),Z&&(0,t.jsxs)(I.Lt,{children:[(0,t.jsx)(I.tv,{asChild:!0,children:(0,t.jsxs)(n.$,{variant:"destructive",children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Check-out del grupo (",Z.people," personas)"]})}),(0,t.jsxs)(I.EO,{children:[(0,t.jsxs)(I.wd,{children:[(0,t.jsx)(I.r7,{children:"\xbfCheck-out del grupo entero?"}),(0,t.jsxs)(I.$v,{children:["Esto har\xe1 el checkout de las ",Z.people," personas que indicaste en el check-in a tu nombre. \xbfEst\xe1s seguro?"]})]}),(0,t.jsxs)(I.ck,{children:[(0,t.jsx)(I.Zr,{children:"Cancelar"}),(0,t.jsx)(I.Rx,{onClick:()=>D(Z),children:"Confirmar Check-out"})]})]})]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:Z?`You are responsible for a group of ${Z.people}.`:"You are not responsible for any group."})]})]}),a&&(0,t.jsxs)(l.Zp,{className:"md:col-span-2 lg:col-span-3 bg-red-50 dark:bg-red-900/20 border-primary",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"font-headline text-primary flex items-center gap-2",children:[(0,t.jsx)(i.A,{})," Local Reserved"]}),(0,t.jsx)(l.BT,{className:"text-primary/80",children:"El local esta reservado actualmente. Haz el check-out cuando acabeis."})]}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 text-primary flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Reason"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:a.reason})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(x.A,{className:"h-5 w-5 text-primary flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Contact Phone"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:a.contactPhone})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 text-primary flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Estimated End Time"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:`Reserved at ${(0,A.GP)(new Date(a.reservedAt),"HH:mm")} - Ends around ${a.endTime}`})]})]})]}),(0,t.jsx)(n.$,{onClick:()=>{k&&N(k.username)},disabled:!k,className:"w-full sm:w-auto mt-4",children:"End Reservation (Check-out)"})]})]})]})}),(0,t.jsx)(w,{isOpen:C,onOpenChange:P}),(0,t.jsx)(R,{isOpen:E,onOpenChange:S})]}):(0,t.jsx)("div",{className:"container mx-auto p-4 md:p-8 flex items-center justify-center min-h-[calc(100vh-theme(spacing.14))]",children:(0,t.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})})}},9025:(e,s,a)=>{"use strict";a.d(s,{h:()=>l});var t=a(3210);let r=()=>({checkIns:[],reservation:null,activityLog:[]});function l(){let[e,s]=(0,t.useState)(r),[a,l]=(0,t.useState)(!1),n=(0,t.useCallback)(e=>{s({...r(),...e})},[]),o=(0,t.useCallback)(e=>{let s=r(),a={...e,timestamp:new Date().toISOString()};n({activityLog:[...s.activityLog,a]})},[n]),i=(0,t.useCallback)((e,s)=>{let a=r();if(a.reservation)return;let t={id:new Date().toISOString(),user:s,people:e,timestamp:new Date().toISOString()};n({checkIns:[...a.checkIns,t]}),o({type:"check-in",user:s,people:e,checkInId:t.id})},[n,o]),d=(0,t.useCallback)(e=>{let s=r();if(!s.reservation&&s.checkIns.length>0){let a=[...s.checkIns],t=a.length-1;a[t].people>1?a[t].people-=1:a.splice(t,1),n({checkIns:a}),o({type:"check-out-single",user:e})}},[n,o]),c=(0,t.useCallback)((e,s)=>{let a=r();if(a.reservation)return;let t=a.checkIns.find(s=>s.id===e);t&&(n({checkIns:a.checkIns.filter(s=>s.id!==e)}),o({type:"check-out-group",user:s,people:t.people,checkInId:e}))},[n,o]),m=(0,t.useCallback)((e,s)=>{n({reservation:{...e,reservedAt:new Date().toISOString()},checkIns:[]}),o({type:"reservation-start",user:s,reason:e.reason})},[n,o]),p=(0,t.useCallback)(e=>{let s=r(),a=s.reservation?.reason;n({reservation:null,checkIns:[]}),o({type:"reservation-end",user:e,reason:a})},[n,o]),u=(0,t.useCallback)(()=>{n({checkIns:[],reservation:null,activityLog:[]})},[n]);(0,t.useCallback)(async()=>{let e=r().checkIns.reduce((e,s)=>e+s.people,0);n({checkIns:[],reservation:null}),o({type:"system-reset",user:"system",people:e})},[n,o]);let x=e.checkIns.reduce((e,s)=>e+s.people,0);return{...e,count:x,isClient:a,checkIn:i,checkOutSingle:d,checkOutGroup:c,reserve:m,endReservation:p,reset:u}}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9637:(e,s,a)=>{Promise.resolve().then(a.bind(a,8669))},9667:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var t=a(687),r=a(3210),l=a(4780);let n=r.forwardRef(({className:e,type:s,...a},r)=>(0,t.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));n.displayName="Input"}};var s=require("../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[447,596,491,576,517],()=>a(1616));module.exports=t})();